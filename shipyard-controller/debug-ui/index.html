<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DebugUI</title>
    <link rel="icon" type="image/png" href="./favicon.png" />

    <link rel="stylesheet" href="index.css" />
    <script src="./fetch_sequences.js"></script>
  </head>
  <body>
    <ul class="header">
      <li class="header">
        <img src="./favicon.png" alt="" />
      </li>

      <li class="header">
        Triggered:
        <input
          onChange="fetchSequences()"
          id="checkboxTriggered"
          type="checkbox"
          checked
        />
      </li>

      <li class="header">
        Finished:
        <input
          onChange="fetchSequences()"
          id="checkboxFinished"
          type="checkbox"
          checked
        />
      </li>

      <li class="header">
        TimedOut:
        <input
          onChange="fetchSequences()"
          id="checkboxTimedOut"
          type="checkbox"
          checked
        />
      </li>

      <li class="header">
        Select Project:

        <select id="projectSelector" onChange="fetchSequences()"></select>
      </li>
    </ul>

    <table id="prodTable">
      <caption>
        Sequences table
      </caption>
      <tr>
        <th>Fetching Sequences</th>
      </tr>
      <tr>
        <td>Fetching Sequences</td>
      </tr>
    </table>

    <script>
      // get projects
      fetch("/sequence/project", {
        method: "get",
      })
        .then((res) => {
          return res.json();
        })
        .then((response) => {
          var projectSelector = document.getElementById("projectSelector");
          projectSelector.innerHTML = "";

          response.projects.forEach((object) => {
            el_project = document.createElement("option");
            el_project.innerHTML = object.projectName;
            projectSelector.appendChild(el_project);
          });
          fetchSequences();
        });
    </script>
  </body>
</html>
